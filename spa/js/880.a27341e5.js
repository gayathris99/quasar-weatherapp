"use strict";(self["webpackChunkweather_app"]=self["webpackChunkweather_app"]||[]).push([[880],{7880:(e,t,a)=>{a.r(t),a.d(t,{default:()=>D});a(7280);var i=a(3673),n=a(2323),l=a(8880);const o={class:"col q-pt-lg q-px-md"},s={class:"col text-white text-center"},h={class:"text-h4 text-weight-light"},r={class:"text-h6 text-weight-light"},c={class:"text-h1 text-weight-thin q-my-lg relative-position"},d=(0,i._)("span",{class:"text-h4 relative-position degree"},"Â°C",-1),p={class:"col text-center"},g=["src"],u={key:1,class:"col column text-center text-white"},w=(0,i._)("div",{class:"col text-h2 text-weight-thin"},[(0,i.Uk)(" Weather Detection"),(0,i._)("br"),(0,i.Uk)("App ")],-1),m=(0,i._)("div",null,"Find my location",-1);function x(e,t,a,x,_,y){const b=(0,i.up)("q-icon"),k=(0,i.up)("q-btn"),C=(0,i.up)("q-input"),$=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)($,{class:(0,n.C_)(["flex column ",y.bgClass])},{default:(0,i.w5)((()=>[(0,i._)("div",o,[(0,i.Wm)(C,{modelValue:_.search,"onUpdate:modelValue":t[0]||(t[0]=e=>_.search=e),placeholder:"Search",dark:"",borderless:"",onKeyup:(0,l.D2)(y.getWeatherbySearch,["enter"])},{before:(0,i.w5)((()=>[(0,i.Wm)(b,{name:"my_location",onClick:y.getLocation},null,8,["onClick"])])),append:(0,i.w5)((()=>[(0,i.Wm)(k,{round:"",dense:"",flat:"",icon:"search",onClick:y.getWeatherbySearch},null,8,["onClick"])])),_:1},8,["modelValue","onKeyup"])]),_.weatherData?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("div",s,[(0,i._)("div",h,(0,n.zw)(_.weatherData.name),1),(0,i._)("div",r,(0,n.zw)(_.weatherData.weather[0].main),1),(0,i._)("div",c,[(0,i._)("span",null,(0,n.zw)(_.weatherData.main.temp),1),d])]),(0,i._)("div",p,[(0,i._)("img",{src:`https://openweathermap.org/img/wn/${_.weatherData.weather[0].icon}@2x.png`,alt:""},null,8,g)])],64)):((0,i.wg)(),(0,i.iD)("div",u,[w,(0,i.Wm)(k,{class:"col",flat:"",onClick:y.getLocation},{default:(0,i.w5)((()=>[(0,i.Wm)(b,{left:"",size:"3em",name:"my_location"}),m])),_:1},8,["onClick"])]))])),_:1},8,["class"])}const _={name:"PageIndex",data(){return{search:"",weatherData:null,lat:null,lon:null,url:"https://api.openweathermap.org/data/2.5/weather",apiKey:"73de1ba42fdc64c9e202ae41a19be27c"}},computed:{bgClass(){if(this.weatherData)return this.weatherData.weather[0].icon.endsWith("n")?"bg-night":"bg-day"}},methods:{getLocation(){this.$q.loading.show(),navigator.geolocation.getCurrentPosition((e=>{this.lat=e.coords.latitude,this.lon=e.coords.longitude,this.getWeatherByCoords()}))},getWeatherByCoords(){this.$q.loading.show(),this.$axios(`${this.url}?lat=${this.lat}&lon=${this.lon}&appid=${this.apiKey}&units=metric`).then((e=>{console.log(e.data),this.weatherData=e.data,this.$q.loading.hide()}))},getWeatherbySearch(){this.$q.loading.show(),this.$axios(`${this.url}?q=${this.search}&appid=${this.apiKey}&units=metric`).then((e=>{console.log(e.data),this.weatherData=e.data,this.$q.loading.hide()}))}}};var y=a(4379),b=a(1592),k=a(4554),C=a(7435),$=a(7518),v=a.n($);_.render=x;const D=_;v()(_,"components",{QPage:y.Z,QInput:b.Z,QIcon:k.Z,QBtn:C.Z})}}]);